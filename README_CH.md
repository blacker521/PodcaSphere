# PodcaSphere
é¢å‘æ’­å®¢ä½œè€…åŠæ’­å®¢å¬ä¼—çš„éŸ³é¢‘è½¬æ–‡å­—/è®²ç¨¿åº”ç”¨ï¼Œé€šè¿‡éŸ³é¢‘æ–‡ä»¶ç”Ÿæˆè®²ç¨¿å¹¶å‚¨å­˜ï¼Œæ”¯æŒè¯´è¯äººéŸ³è‰²åˆ†å‰²ï¼Œä½¿ç”¨FastAPIå®ç°ï¼Œæ”¯æŒå¼‚æ­¥å¤„ç†ï¼Œæ”¯æŒå¿«é€Ÿéƒ¨ç½²ã€‚
## åŠ¨æœº
ä½œä¸ºæ’­å®¢çˆ±å¥½è€…ï¼Œå°å®‡å®™çš„æœç´¢æµç¨‹ä¸èƒ½æ»¡è¶³æ—¥å¸¸çš„éœ€æ±‚ï¼Œä¸èƒ½å®ç°å¯¹éŸ³é¢‘ä¸­çš„å…³é”®å­—è¿›è¡Œæœç´¢ï¼ŒåŒæ—¶æ²¡æœ‰å¯¹æ’­å®¢åˆ›ä½œè€…æä¾›é€‰é¢˜æˆ–æ–‡æœ¬ç¨¿ä»¶çš„èƒ½åŠ›ã€‚ç»“åˆwhisperæ¨¡å‹å’ŒLLMæä¾›é«˜è´¨é‡çš„æœç´¢å·¥ä½œæµï¼Œå®ç°é«˜è´¨é‡æœç´¢å’Œæ–‡æœ¬ç”Ÿæˆï¼ŒåæœŸä¼šå®ç°éŸ³è‰²çš„å…‹éš†ã€‚

## ä¸»è¦åŠŸèƒ½
- ğŸš€ å¿«é€Ÿéƒ¨ç½²ï¼Œèƒ½å¤Ÿé€šè¿‡yamlæ–‡ä»¶å¿«é€Ÿæ›´æ”¹é…ç½®ï¼Œå¹¶éƒ¨ç½²
- ğŸ™ï¸ å†…ç½®è¯´è¯äººéŸ³è‰²åˆ†å‰²åŠŸèƒ½
- ğŸ“š åº•å±‚æœåŠ¡ä¸ºFastAPIèƒ½å¤Ÿé€šè¿‡æ–‡æ¡£æ¥å£å®ç°æ‰€æœ‰åŠŸèƒ½ï¼Œæœªæ¥ä¼šæä¾›ç®€æ˜“webuiï¼Œæä¾›ç»™ç”¨æˆ·ä½¿ç”¨
- ğŸ”„ å¯¹è¯´è¯äººéŸ³è‰²åˆ†å‰²å’Œæ–‡æœ¬å¤„ç†è¿›è¡Œäº†å¹¶è¡Œå¤„ç†ä¼˜åŒ–
- ğŸ”— æä¾›å¼‚æ­¥æ¥å£è¿›è¡Œè°ƒç”¨
- ğŸ“ƒéŸ³é¢‘æ–‡ä»¶ç¼“å­˜å’ŒéŸ³é¢‘æ–‡ä»¶æŒ‡å®šæ—¶æ®µè¿›è¡Œæå–

## ä½¿ç”¨æ–¹æ¡ˆ

### ç¯å¢ƒè®¾ç½®

`python>=3.8`

`pip install -r requirements.txt`

### è¿è¡ŒæœåŠ¡

æ›´æ”¹`confid/deploy.yaml`æ–‡ä»¶ï¼Œè®¾ç½®`${hf_token}`ï¼Œ[å…·ä½“è¯¦è§](https://huggingface.co/settings/tokens)ï¼Œå¼€é€š`pyannote/speaker-diarization-3.1`æˆæƒ

è¿è¡Œå‘½ä»¤

`python  main.py `

### æ¥å£æ–‡æ¡£

è®¿é—®`http://0.0.0.0:8080/docs`è·å–æ¥å£æ–‡æ¡£ä¿¡æ¯

ä½¿ç”¨urlç»“å°¾ä¸º`async/`çš„æ¥å£èƒ½å¤Ÿæäº¤taskä»»åŠ¡ï¼Œå¯ä»¥é€šè¿‡`/status/{task_id}`å’Œ`/cancel/{task_id}`æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€æˆ–å–æ¶ˆä»»åŠ¡ï¼Œé€šè¿‡`/tasks`æŸ¥çœ‹æ‰€æœ‰å†å²ä»»åŠ¡ã€‚

## ToDo

- [x] WebUIé¡µé¢
- [x] æ”¯æŒå°†æ–‡ç¨¿æ–‡ä»¶ä½œä¸ºçŸ¥è¯†/å†å²è®°å½•å‘é€ç»™LLMæ¨¡å‹
- [ ] æ”¯æŒå£°çº¹åº“ï¼Œé€šè¿‡å£°çº¹åº“è¯†åˆ«è¯´è¯äººåç§°ï¼Œå¹¶å†™å…¥å‘é‡åº“
- [ ] æ”¯æŒSenseVoiceæ¨¡å‹å’ŒCosyVoiceæ¨¡å‹çš„ä¸€é”®éŸ³è‰²å…‹éš†
- [ ] æ”¯æŒé€šè¿‡é€‰æ‹©äººç‰©è¿›è¡Œè¯´è¯æ–¹å¼çš„Loraå¾®è°ƒ
- [ ] æ”¯æŒå®æ—¶è¯­éŸ³è¯†åˆ«
- [ ] æ”¯æŒonnxæ¨¡å‹åŠ é€Ÿ

## è‡´è°¢

- [insanely-fast-whisper-api](https://github.com/JigsawStack/insanely-fast-whisper-api)
- [OpenAI's Whisper Large v3](https://huggingface.co/openai/whisper-large-v3)